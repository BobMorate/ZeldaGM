<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>&lt;undefined&gt;</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>0</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Save Data Properties
selection=Active_Save_Slot;
image_speed=.3;
save_data1=ds_map_secure_load("Save1.sav");
save_data2=ds_map_secure_load("Save2.sav");
save_data3=ds_map_secure_load("Save3.sav");
menu_show=true;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Manipulate Menu
if(menu_show &amp;&amp; obj_game_manager.state==obj_game_manager.game_state_slot_select)
{
    if(system_button_up_pressed)
    {
        sfx_play("Cursor");
        selection--;
        if(selection&lt;0)
            selection=2;
    }
    else if(system_button_down_pressed)
    {
        sfx_play("Cursor");
        selection++
        if(selection&gt;2)
            selection=0;
    }
    ///Read Menu Controls
    if((system_button_start_pressed || system_button_okay_pressed) &amp;&amp; selection==0)
    {   
        ds_map_copy(obj_game_manager.save_data,save_data1);
        Active_Save_Slot=selection;
        if(save_data1[? "Name"]=="")
        {
            var _name = get_string("Name this save data.","Link");
            save_data_set("Name",_name);
        }
        //Go to Overworld
        var _trans=transition_create(1*room_speed,.5*room_speed,1*room_speed);
        transition_add_room_change(_trans,rm_overworld);
        transition_add_fade_out(_trans);
        transition_add_spotlight_in(_trans,"Link");
        transition_add_music_change(_trans,false,"Overworld",0);
        //var _tran=room_transition_general(rm_overworld,0,transition_fade,1,"",.5,transition_spotlight,1,"Game Start");
        //room_transition_change_music(_tran,true);
        with(obj_game_manager)
        {   
            ds_grid_destroy(item_grid)
            item_grid_init();
            state_next=game_state_in_game;
        }
    }
}

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="5">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Cleanup temp save data.
show_debug_message("Cleaning up temp data");
ds_map_destroy(save_data1);
ds_map_destroy(save_data2);
ds_map_destroy(save_data3);
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if(menu_show)
{
    ///Draw Options
    draw_set_text_alignment(7);
    draw_set_font(fnt_text)
    var _continue_w=string_width("Continue");
    var _save1_name,_save2_name,_save3_name;
    
    
    if(save_data1[? "Name"]=="") _save1_name="Blank" else _save1_name=save_data1[? "Name"];
    if(save_data2[? "Name"]=="") _save2_name="Blank" else _save2_name=save_data2[? "Name"];
    if(save_data3[? "Name"]=="") _save3_name="Blank" else _save3_name=save_data3[? "Name"];
    
    draw_text_stroked(screen_width*.5,screen_height*.5,_save1_name,c_white,c_navy,1,1);
    draw_text_stroked(screen_width*.5,screen_height*.5+16,_save2_name,c_white,c_navy,1,1);
    draw_text_stroked(screen_width*.5,screen_height*.5+32,_save3_name,c_white,c_navy,1,1);

    
    //Draw Fairy
    var _xoff=12;
    var _y=0;
    switch(selection)
    {
        case 0: _y=screen_height*.5+16;break;
        case 1: _y=screen_height*.5+32;break;
        case 2: _y=screen_height*.5+48;break;
        
    }
    draw_sprite(spr_fairy,image_index,screen_width*.5-_xoff,_y);

}
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
