<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>&lt;undefined&gt;</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>-30000</depth>
  <persistent>-1</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Hud Positional Properties

//Life Bar
lb_title_x=0;
lb_title_y=0;

lb_left_x=0;
lb_top_y=0;
lb_max_width=8; //8 hearts per row

lb_max_health=save_data_get("Heart Containers");
lb_current_health=3;


//Current Item
ci_frame_x=0;
ci_frame_y=0;
ci_width=18;
ci_height=18;
ci_surface_xoff=9;
ci_surface_yoff=2;
ci_surface=surface_create(ci_width,ci_height);
ci_current_item=save_data_get("Item");



//Stuff
rupees_center_x=0;
rupees_top_y=0;

bombs_center_x=0;
bombs_top_y=0;

keys_center_x=0;
keys_top_y=0;

//Animation stuff
timer=0;
item_switch_length=.25*room_speed;
item_switch_timer=0;
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///values from file
lb_title_x=245
lb_title_y=4
lb_left_x=235
lb_top_y=13
rupees_center_x=134
rupees_top_y=7
bombs_center_x=163
bombs_top_y=7
keys_center_x=193
keys_top_y=7
ci_frame_x=65
ci_frame_y=8
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="1" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Cleanup
if(surface_exists(ci_surface))
    surface_free(ci_surface);
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Check for health changes
if(timer mod 5 == 0 &amp;&amp; instance_exists(obj_link))
{
    if(lb_max_health &lt; save_data_get("Heart Containers"))
    {
        lb_max_health++;
    }
    else
        lb_max_health=save_data_get("Heart Containers")
        
    if(lb_current_health &lt; obj_link.hit_points)
    {
        lb_current_health=clamp(lb_current_health+.5,0,obj_link.hit_points);
        sfx_play("Health Up",false);
    }
    else
        lb_current_health=obj_link.hit_points;
}

timer++
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Check for item Changes
if(timer mod 5 == 0)
{
    ci_current_item=save_data_get("Item");
    if(surface_exists(ci_surface))
    {
        surface_set_target(ci_surface);
            draw_clear_alpha(c_black,.5);
            var _alph = 1;
            if(item_grid_get_cooldown(ci_current_item)&gt;0)
                _alph=.5;
            if(item_grid_get_sprite(ci_current_item)&gt;=0)
            {
                draw_sprite_ext(item_grid_get_sprite(ci_current_item),item_grid_get_subimage(ci_current_item),
                            surface_get_width(ci_surface)/2,
                            2,
                            1,1,0,c_white,_alph);
            }
        surface_reset_target();
    }
    else
        ci_surface=surface_create(ci_width,ci_height);
}
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Move Elements
/*var changes=false;
if(keyboard_check(ord("1")))
{
    if(keyboard_check(vk_shift))
    {
        lb_title_x+=keyboard_check_pressed(vk_right);
        lb_title_x-=keyboard_check_pressed(vk_left);
        lb_title_y+=keyboard_check_pressed(vk_down);
        lb_title_y-=keyboard_check_pressed(vk_up);
    }
    else
    {
        lb_title_x+=keyboard_check(vk_right);
        lb_title_x-=keyboard_check(vk_left);
        lb_title_y+=keyboard_check(vk_down);
        lb_title_y-=keyboard_check(vk_up);
    }
    changes=true;
    
}

if(keyboard_check(ord("2")))
{
    if(keyboard_check(vk_shift))
    {
        lb_left_x+=keyboard_check_pressed(vk_right);
        lb_top_y+=keyboard_check_pressed(vk_down);
        lb_left_x-=keyboard_check_pressed(vk_left);
        lb_top_y-=keyboard_check_pressed(vk_up);
    }
    else
    {
        lb_left_x+=keyboard_check(vk_right);
        lb_top_y+=keyboard_check(vk_down);
        lb_left_x-=keyboard_check(vk_left);
        lb_top_y-=keyboard_check(vk_up);
    }
    changes=true;
}

if(keyboard_check(ord("3")))
{
    if(keyboard_check(vk_shift))
    {
        rupees_center_x+=keyboard_check_pressed(vk_right);
        rupees_top_y+=keyboard_check_pressed(vk_down);
        rupees_center_x-=keyboard_check_pressed(vk_left);
        rupees_top_y-=keyboard_check_pressed(vk_up);
    }
    else
    {
        rupees_center_x+=keyboard_check(vk_right);
        rupees_top_y+=keyboard_check(vk_down);
        rupees_center_x-=keyboard_check(vk_left);
        rupees_top_y-=keyboard_check(vk_up);
    }
    changes=true;
}

if(keyboard_check(ord("4")))
{
    if(keyboard_check(vk_shift))
    {
        bombs_center_x+=keyboard_check_pressed(vk_right);
        bombs_top_y+=keyboard_check_pressed(vk_down);
        bombs_center_x-=keyboard_check_pressed(vk_left);
        bombs_top_y-=keyboard_check_pressed(vk_up);
    }
    else
    {
        bombs_center_x+=keyboard_check(vk_right);
        bombs_top_y+=keyboard_check(vk_down);
        bombs_center_x-=keyboard_check(vk_left);
        bombs_top_y-=keyboard_check(vk_up);
    }
    changes=true;
}

if(keyboard_check(ord("5")))
{
    if(keyboard_check(vk_shift))
    {
        keys_center_x+=keyboard_check_pressed(vk_right);
        keys_top_y+=keyboard_check_pressed(vk_down);
        keys_center_x-=keyboard_check_pressed(vk_left);
        keys_top_y-=keyboard_check_pressed(vk_up);
    }
    else
    {
        keys_center_x+=keyboard_check(vk_right);
        keys_top_y+=keyboard_check(vk_down);
        keys_center_x-=keyboard_check(vk_left);
        keys_top_y-=keyboard_check(vk_up);
    }
    changes=true;
}

if(keyboard_check(ord("6")))
{
    if(keyboard_check(vk_shift))
    {
        ci_frame_x+=keyboard_check_pressed(vk_right);
        ci_frame_y+=keyboard_check_pressed(vk_down);
        ci_frame_x-=keyboard_check_pressed(vk_left);
        ci_frame_y-=keyboard_check_pressed(vk_up);
    }
    else
    {
        ci_frame_x+=keyboard_check(vk_right);
        ci_frame_y+=keyboard_check(vk_down);
        ci_frame_x-=keyboard_check(vk_left);
        ci_frame_y-=keyboard_check(vk_up);
    }
    changes=true;
}


if(changes)
{
    file=file_text_open_write("HUD Settings.txt");
    file_text_write_string(file,"lb_title_x="+string(lb_title_x)+chr(13)+chr(10)+
                               "lb_title_y="+string(lb_title_y)+chr(13)+chr(10)+
                               "lb_left_x="+string(lb_left_x)+chr(13)+chr(10)+
                               "lb_top_y="+string(lb_top_y)+chr(13)+chr(10)+
                               "rupees_center_x="+string(rupees_center_x)+chr(13)+chr(10)+
                               "rupees_top_y="+string(rupees_top_y)+chr(13)+chr(10)+
                               "bombs_center_x="+string(bombs_center_x)+chr(13)+chr(10)+
                               "bombs_top_y="+string(bombs_top_y)+chr(13)+chr(10)+
                               "keys_center_x="+string(keys_center_x)+chr(13)+chr(10)+
                               "keys_top_y="+string(keys_top_y)+chr(13)+chr(10)+
                               "ci_frame_x="+string(ci_frame_x)+chr(13)+chr(10)+
                               "ci_frame_y="+string(ci_frame_y)+chr(13)+chr(10)
                               );
                               
    file_text_close(file);
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Draw Life
//Title
draw_sprite(spr_hud_life_title,0,view_xview+lb_title_x,view_yview+lb_title_y);

//Hearts
var _xx=lb_left_x;
var _yy=lb_top_y;
var _current_health=lb_current_health;
for(var i=0;i&lt;floor(_current_health);i++)
{
    if(i==lb_max_width)
    {
        _xx=lb_left_x;
        _yy+=8;
    }
    
    draw_sprite(spr_hud_hearts,0,view_xview+_xx,view_yview+_yy);
    _xx+=8;
}

if(_current_health mod 1 != 0)
{
    if(i==lb_max_width)
    {
        _xx=lb_left_x;
        _yy+=8;
    }
    
    draw_sprite(spr_hud_hearts,1,view_xview+_xx,view_yview+_yy)
    _xx+=8;
    
}
for(i=ceil(_current_health);i&lt;lb_max_health;i++)
{
    if(i==lb_max_width)
    {
        _xx=lb_left_x;
        _yy+=8;
    }
    
    draw_sprite(spr_hud_hearts,2,view_xview+_xx,view_yview+_yy)
    _xx+=8;
}
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Draw Rupees, Bombs and Keys
draw_set_font(fnt_mini_numbers);
draw_set_text_alignment(8);
//Rupees (Icon should change as wallet increases in size)
draw_sprite(spr_hud_rupees,0,view_xview+rupees_center_x,view_yview+rupees_top_y);
if(save_data_get("Rupees")==save_get_max("Rupees"))
    draw_set_color(c_lime);
else
    draw_set_color(c_white);
draw_text(view_xview+rupees_center_x,view_yview+rupees_top_y+10,string(save_data_get("Rupees")));

//Bombs
draw_sprite(spr_hud_bombs,0,view_xview+bombs_center_x,view_yview+bombs_top_y);
if(save_data_get("Bombs")==save_get_max("Bombs"))
    draw_set_color(c_lime);
else
    draw_set_color(c_white);
draw_text(view_xview+bombs_center_x,view_yview+bombs_top_y+10,string(save_data_get("Bombs")));

//Keys
draw_set_color(c_white);
draw_sprite(spr_hud_keys,0,view_xview+keys_center_x,view_yview+keys_top_y);
draw_text(view_xview+keys_center_x,view_yview+keys_top_y+10,string(save_data_get("Keys")));
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Draw current equipped item
if(surface_exists(ci_surface))
{
    draw_surface(ci_surface,view_xview+ci_frame_x+ci_surface_xoff,
                            view_yview+ci_frame_y+ci_surface_yoff); 
}

draw_sprite(spr_hud_item_frame,0,view_xview+ci_frame_x,view_yview+ci_frame_y);
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
